!function(t,e){'object'==typeof exports&&'object'==typeof module?module.exports=e():'function'==typeof define&&define.amd?define([],e):'object'==typeof exports?exports.__CTR_FUNNEL_TRACKING=e():t.__CTR_FUNNEL_TRACKING=e()}(window,function(){return o={},r.m=n=[function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},t.exports.default=t.exports,t.exports.__esModule=!0},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(t){return typeof t}:e.exports=n=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e.exports.default=e.exports,e.exports.__esModule=!0,n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(t,e,n){"use strict";n.r(e),n.d(e,"trackConversion",function(){return S}),n.d(e,"trackExConversion",function(){return E});var e=n(0),o=n.n(e),e=n(1),r=n.n(e),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c=window.device,a={},u=[];window.device=a;var s=window.document.documentElement,d=window.navigator.userAgent.toLowerCase(),l=['googletv','viera','smarttv','internet.tv','netcast','nettv','appletv','boxee','kylo','roku','dlnadoc','pov_tv','hbbtv','ce-html'];function f(t,e){return-1!==t.indexOf(e)}function p(t){return f(d,t)}function b(t){return s.className.match(new RegExp(t,'i'))}function w(t){var e;b(t)||(e=s.className.replace(/^\s+|\s+$/g,''),s.className=e+' '+t)}function y(t){b(t)&&(s.className=s.className.replace(' '+t,''))}function h(){a.landscape()?(y('portrait'),w('landscape'),m('landscape')):(y('landscape'),w('portrait'),m('portrait')),_()}function m(t){for(var e=0;e<u.length;e++)u[e](t)}a.macos=function(){return p('mac')},a.ios=function(){return a.iphone()||a.ipod()||a.ipad()},a.iphone=function(){return!a.windows()&&p('iphone')},a.ipod=function(){return p('ipod')},a.ipad=function(){var t='MacIntel'===navigator.platform&&1<navigator.maxTouchPoints;return p('ipad')||t},a.android=function(){return!a.windows()&&p('android')},a.androidPhone=function(){return a.android()&&p('mobile')},a.androidTablet=function(){return a.android()&&!p('mobile')},a.blackberry=function(){return p('blackberry')||p('bb10')},a.blackberryPhone=function(){return a.blackberry()&&!p('tablet')},a.blackberryTablet=function(){return a.blackberry()&&p('tablet')},a.windows=function(){return p('windows')},a.windowsPhone=function(){return a.windows()&&p('phone')},a.windowsTablet=function(){return a.windows()&&p('touch')&&!a.windowsPhone()},a.fxos=function(){return(p('(mobile')||p('(tablet'))&&p(' rv:')},a.fxosPhone=function(){return a.fxos()&&p('mobile')},a.fxosTablet=function(){return a.fxos()&&p('tablet')},a.meego=function(){return p('meego')},a.cordova=function(){return window.cordova&&'file:'===location.protocol},a.nodeWebkit=function(){return'object'===i(window.process)},a.mobile=function(){return a.androidPhone()||a.iphone()||a.ipod()||a.windowsPhone()||a.blackberryPhone()||a.fxosPhone()||a.meego()},a.tablet=function(){return a.ipad()||a.androidTablet()||a.blackberryTablet()||a.windowsTablet()||a.fxosTablet()},a.desktop=function(){return!a.tablet()&&!a.mobile()},a.television=function(){for(var t=0;t<l.length;){if(p(l[t]))return!0;t++}return!1},a.portrait=function(){return screen.orientation&&Object.prototype.hasOwnProperty.call(window,'onorientationchange')?f(screen.orientation.type,'portrait'):a.ios()&&Object.prototype.hasOwnProperty.call(window,'orientation')?90!==Math.abs(window.orientation):1<window.innerHeight/window.innerWidth},a.landscape=function(){return screen.orientation&&Object.prototype.hasOwnProperty.call(window,'onorientationchange')?f(screen.orientation.type,'landscape'):a.ios()&&Object.prototype.hasOwnProperty.call(window,'orientation')?90===Math.abs(window.orientation):window.innerHeight/window.innerWidth<1},a.noConflict=function(){return window.device=c,this},a.ios()?a.ipad()?w('ios ipad tablet'):a.iphone()?w('ios iphone mobile'):a.ipod()&&w('ios ipod mobile'):a.macos()?w('macos desktop'):a.android()?a.androidTablet()?w('android tablet'):w('android mobile'):a.blackberry()?a.blackberryTablet()?w('blackberry tablet'):w('blackberry mobile'):a.windows()?a.windowsTablet()?w('windows tablet'):a.windowsPhone()?w('windows mobile'):w('windows desktop'):a.fxos()?a.fxosTablet()?w('fxos tablet'):w('fxos mobile'):a.meego()?w('meego mobile'):a.nodeWebkit()?w('node-webkit'):a.television()?w('television'):a.desktop()&&w('desktop'),a.cordova()&&w('cordova'),a.onChangeOrientation=function(t){'function'==typeof t&&u.push(t)};e='resize';function v(t){for(var e=0;e<t.length;e++)if(a[t[e]]())return t[e];return'unknown'}function _(){a.orientation=v(['portrait','landscape'])}Object.prototype.hasOwnProperty.call(window,'onorientationchange')&&(e='orientationchange'),window.addEventListener?window.addEventListener(e,h,!1):window.attachEvent?window.attachEvent(e,h):window[e]=h,h(),a.type=v(['mobile','tablet','desktop']),a.os=v(['ios','iphone','ipad','ipod','android','blackberry','macos','windows','fxos','meego','television']),_();var g=a;function O(){return g.desktop()?3:g.tablet()?2:g.mobile()?1:void 0}function x(e,t){var n,o=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)),o}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach(function(t){o()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var N=window.__CTR_FUNNEL_TRACKING_SETTINGS&&'dev'===window.__CTR_FUNNEL_TRACKING_SETTINGS.MODE?'https://ctrwow-dev-funnelbuilder-microservice.azurewebsites.net/api':'https://funnel.ctrwow.com/api';function k(t,e){var n={};if(!t)throw new Error('API URL is missing!');var o={'content-type':'application/json'};return e&&'object'===r()(e)&&(n=Object.assign({method:'GET',headers:e.headers?Object.assign(o,e.headers):o},e)),window.fetch(t,n).then(function(t){if(204===t.status||205===t.status)return null;if(200<=t.status&&t.status<300)return t.text().then(function(t){try{return t?JSON.parse(t):{}}catch(t){return{}}});throw JSON.stringify({status:t.status,statusText:t.statusText,response:t})})}function j(t,e){e=e||window.location.href,t=t.replace(/[\[\]]/g,'\\$&');e=new RegExp('[?&]'+t+'(=([^&#]*)|&|#|$)').exec(e);return e?e[2]?decodeURIComponent(e[2].replace(/\+/g,' ')):'':null}function P(t){return t&&'[object Function]'==={}.toString.call(t)}function C(){if(!j('ctr_hid'))throw new Error('__CTR_FUNNEL_TRACKING: Missing ctr_hid')}function S(e,n,t){try{C();var o=j('ctr_hid'),r=j('ctr_payout')||0;k(N+"/funnelConversion?ctr_device_type=".concat(O()),{method:'POST',body:JSON.stringify(T(T({},t||{}),{},{hitId:o,payout:r}))}).then(function(t){P(e)&&e(t)}).catch(function(t){P(n)&&n(t)})}catch(t){return console.warn('__CTR_FUNNEL_TRACKING: trackConversion error: '+t),console.warn('__CTR_FUNNEL_TRACKING: trackConversion error: '+t),!1}return!0}function E(e,n){try{C();var t=j('ctr_hid'),o=j('ctr_payout')||0;k(N+"/funnelConversion?".concat((i=(r={ctr_hid:t,ctr_payout:o}).ctr_hid,r=r.ctr_payout,"ctr_hid=".concat(i,"&ctr_payout=").concat(r,"&ctr_device_type=").concat(O()))),{method:'POST'}).then(function(t){window.localStorage.setItem(key,trackingIdNew),P(e)&&e(t)}).catch(function(t){P(n)&&n(t)})}catch(t){return console.warn('__CTR_FUNNEL_TRACKING: trackConversion error: '+t),!1}var r,i;return!0}console.log('__CTR_FUNNEL_TRACKING: init')}],r.c=o,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){'undefined'!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:'Module'}),Object.defineProperty(t,'__esModule',{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&'object'==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,'default',{enumerable:!0,value:e}),2&t&&'string'!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,'a',e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=2);function r(t){if(o[t])return o[t].exports;var e=o[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,r),e.l=!0,e.exports}var n,o});